<!DOCTYPE html>
<html lang="pt-br">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Chronos</title>
    <link rel="stylesheet" href="./assets/css/style.css">
    <script src="./assets/js/script.js"></script>
    <script src="https://code.jquery.com/jquery-3.6.4.min.js"
        integrity="sha256-oP6HI9z1XaZNBrJURtCoUT5SUnxFr8s3BzRl+cbzUq8=" crossorigin="anonymous"></script>
    <link rel="stylesheet" type="text/css"
        href="/codigo/assets/libraries/dsmorse-gridster.js-6d418df/dist/jquery.dsmorse-gridster.min.css">
    <script src="/codigo/assets/libraries/dsmorse-gridster.js-6d418df/dist/jquery.dsmorse-gridster.min.js"></script>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha2/dist/css/bootstrap.min.css" rel="stylesheet"
        integrity="sha384-aFq/bzH65dt+w6FI2ooMVUpc+21e0SRygnTpmBvdBgSdnuTN7QbdgL+OapgHtvPp" crossorigin="anonymous">
    <script>
        $(document).ready(function () {
            // ----------- javascript do menu flutuante -----------

            // fazer os itens do menu "brilharem" conforme o mouse passa em cima
            $('.menu-item').hover(function () {
                $(this).css("background-color", "#3D3D3D");
            }, function () {
                $(this).css("background-color", "#333333");
            });
            // animações do botão contrair/expandir do menu
            $('#menu-button img').hover(function () {
                if (isMenuHidden == 0) {
                    $(this).css({
                        backgroundColor: '#3D3D3D',
                        transform: 'translateX(10px)',
                    });
                } else if (isMenuHidden == 1) {
                    $(this).css({
                        backgroundColor: '#3D3D3D',
                        transform: 'translateX(-10px)',
                    });
                }
            }, function () {
                $(this).css({
                    backgroundColor: 'transparent',
                    transform: 'translateX(0px)',
                });
            });
            $('#menu-button').on('click', function () {
                if (isMenuHidden == 0) {
                    $('#menu-flutuante-inner-wrapper').css({
                        transform: 'translateX(-80px)',
                    });
                    $(this).css({
                        transform: 'rotate(180deg)',
                    });
                    $('#menu-config-wrapper').css({
                        transform: 'translateX(-80px)',
                    });
                    isMenuHidden = 1;
                } else {
                    $('#menu-flutuante-inner-wrapper').css({
                        transform: 'translateX(0px)',
                    });
                    $(this).css({
                        transform: 'rotate(0deg)',
                    });
                    $('#menu-config-wrapper').css({
                        transform: 'translateX(0px)',
                    });
                    isMenuHidden = 0;
                }
            });
            // animações do botão config
            $('#menu-config-wrapper').hover(function () {
                $('#menu-config').css({
                    transform: 'rotate(180deg)',
                });
            }, function () {
                $('#menu-config').css({
                    transform: 'rotate(0deg)',
                });
            });
            // botão config e config-page-leave
            var isConfigPageOn = 0;
            
            $('#menu-config-wrapper').on('click', showConfigPage);
            console.log(isConfigPageOn);

            // ----------- configurações da biblioteca gridster.js -----------
            $(".gridster ul").gridster({
                widget_base_dimensions: [100, 100], // dimensões em pixels
                widget_margins: [10, 10], // margens em pixels
                //min_cols: 10,
                //max_cols: 20,
                //min_rows: 6,
                //max_rows: 6,
                shift_widgets_up: false, // se joga os itens para cima da grade, comprimindo-a
                shift_larger_widgets_down: false, // se joga os itens grandes para baixo da grade, comprimindo-a
                //draggable: {
                //handle: 'header'
                //}
            }).data('gridster');
            // ----------- sistema de scroll x axis -----------
            var scrollDirectionX = ''; // direção do scroll
            window.addEventListener('mousemove', function (event) {
                var mouseX = event.clientX; // posição x do mouse
                var windowWidth = window.innerWidth; // largura da janela

                // atribuição de nome à posição do mouse
                if (mouseX < windowWidth * 0.05) {
                    scrollDirectionX = 'farLeft';
                } else if (mouseX >= windowWidth * 0.05 && mouseX < windowWidth * 0.10) {
                    scrollDirectionX = 'left';
                } else if (mouseX > windowWidth * 0.95) {
                    scrollDirectionX = 'farRight';
                } else if (mouseX <= windowWidth * 0.95 && mouseX > windowWidth * 0.90) {
                    scrollDirectionX = 'right';
                } else {
                    scrollDirectionX = '';
                }
            });
            // ----------- sistema de scroll y axis -----------
            var scrollDirectionY = ''; // direção do scroll
            window.addEventListener('mousemove', function (event) {
                var mouseY = event.clientY; // posição y do mouse
                var windowHeight = window.innerHeight; // altura da janela

                // atribuição de nome à posição do mouse
                if (mouseY < windowHeight * 0.05) {
                    scrollDirectionY = 'farDown';
                } else if (mouseY >= windowHeight * 0.05 && mouseY < windowHeight * 0.10) {
                    scrollDirectionY = 'down';
                } else if (mouseY > windowHeight * 0.95) {
                    scrollDirectionY = 'farUp';
                } else if (mouseY <= windowHeight * 0.95 && mouseY > windowHeight * 0.90) {
                    scrollDirectionY = 'up';
                } else {
                    scrollDirectionY = '';
                }
            });
            // ----------- sistema de scroll diagonal -----------
            var scrollDirectionDiag = ''; // direção do scroll
            window.addEventListener('mousemove', function (event) {
                var mouseX = event.clientX; // posição x do mouse
                var windowWidth = window.innerWidth; // largura da janela
                var mouseY = event.clientY; // posição y do mouse
                var windowHeight = window.innerHeight; // altura da janela


                // atribuição de nome à posição do mouse
                if (mouseX <= windowWidth * 0.15 && mouseY <= windowHeight * 0.15) {
                    scrollDirectionDiag = 'farTopLeft';
                }
                else if (
                    mouseX < windowWidth * 0.15 && mouseY < windowHeight * 0.20 && mouseY > windowHeight * 0.15 ||
                    mouseX >= windowWidth * 0.15 && mouseX < windowWidth * 0.20 && mouseY >= windowHeight * 0.15 && mouseY < windowHeight * 0.20 ||
                    mouseX > windowWidth * 0.15 && mouseX < windowWidth * 0.20 && mouseY < windowHeight * 0.15
                ) { scrollDirectionDiag = 'topLeft'; }
                else if (mouseX >= windowWidth * 0.85 && mouseY <= windowHeight * 0.15) {
                    scrollDirectionDiag = 'farTopRight';
                }
                else if (
                    mouseX > windowWidth * 0.85 && mouseY < windowHeight * 0.20 && mouseY > windowHeight * 0.15 ||
                    mouseX > windowWidth * 0.80 && mouseX <= windowWidth * 0.85 && mouseY >= windowHeight * 0.15 && mouseY < windowHeight * 0.20 ||
                    mouseX > windowWidth * 0.80 && mouseX < windowWidth * 0.85 && mouseY < windowHeight * 0.15
                ) { scrollDirectionDiag = 'topRight'; }
                else if (mouseX <= windowWidth * 0.15 && mouseY >= windowHeight * 0.85) {
                    scrollDirectionDiag = 'farBottomLeft';
                }
                else if (
                    mouseX < windowWidth * 0.15 && mouseY < windowHeight * 0.85 && mouseY > windowHeight * 0.80 ||
                    mouseX >= windowWidth * 0.15 && mouseX < windowWidth * 0.20 && mouseY > windowHeight * 0.80 && mouseY <= windowHeight * 0.85 ||
                    mouseX > windowWidth * 0.15 && mouseX < windowWidth * 0.20 && mouseY > windowHeight * 0.85
                ) { scrollDirectionDiag = 'bottomLeft'; }
                else if (mouseX >= windowWidth * 0.85 && mouseY >= windowHeight * 0.85) {
                    scrollDirectionDiag = 'farBottomRight';
                }
                else if (
                    mouseX > windowWidth * 0.85 && mouseY < windowHeight * 0.85 && mouseY > windowHeight * 0.80 ||
                    mouseX > windowWidth * 0.80 && mouseX <= windowWidth * 0.85 && mouseY > windowHeight * 0.80 && mouseY <= windowHeight * 0.85 ||
                    mouseX > windowWidth * 0.80 && mouseX < windowWidth * 0.85 && mouseY > windowHeight * 0.85
                ) { scrollDirectionDiag = 'bottomRight'; }
                else {
                    scrollDirectionDiag = ''
                }
            });
            // função para mover o a tela de acordo com o nome da sua posição
            function moveMouse() {
                if (isConfigPageOn == 0) {
                    if (scrollDirectionX !== '') {
                        if (scrollDirectionX === 'farLeft') {
                            window.scrollBy(-20, 0);
                        }
                        else if (scrollDirectionX === 'left') {
                            window.scrollBy(-5, 0);
                        }
                        else if (scrollDirectionX === 'farRight') {
                            window.scrollBy(20, 0);
                        }
                        if (scrollDirectionX === 'right') {
                            window.scrollBy(5, 0);
                        }
                    };
                    if (scrollDirectionY !== '') {
                        if (scrollDirectionY === 'farDown') {
                            window.scrollBy(0, -20);
                        }
                        else if (scrollDirectionY === 'down') {
                            window.scrollBy(0, -5);
                        }
                        else if (scrollDirectionY === 'farUp') {
                            window.scrollBy(0, 20);
                        }
                        if (scrollDirectionY === 'up') {
                            window.scrollBy(0, 5);
                        }
                    };
                    if (scrollDirectionDiag !== '') {
                        if (scrollDirectionDiag === 'topLeft') {
                            window.scrollBy(-5, -5);
                        }
                        if (scrollDirectionDiag === 'farTopLeft') {
                            window.scrollBy(-20, -20);
                        } if (scrollDirectionDiag === 'topRight') {
                            window.scrollBy(5, -5);
                        }
                        if (scrollDirectionDiag === 'farTopRight') {
                            window.scrollBy(20, -20);
                        } if (scrollDirectionDiag === 'bottomLeft') {
                            window.scrollBy(-5, 5);
                        }
                        if (scrollDirectionDiag === 'farBottomLeft') {
                            window.scrollBy(-20, 20);
                        }
                        if (scrollDirectionDiag === 'bottomRight') {
                            window.scrollBy(5, 5);
                        }
                        if (scrollDirectionDiag === 'farBottomRight') {
                            window.scrollBy(20, 20);
                        }
                    };
                }
                //console.log(scrollDirectionDiag);
                //console.log(scrollDirectionX);
                //console.log(scrollDirectionY);  
                // os códigos comentados acima podem ser usados para imprimir no console o valor atual das variáveis scrollDirectionX e scrollDirectionY
            }
            // intervalos de teste da posição do mouse
            setInterval(moveMouse, 50); // define o intervalo em milisegundos para que a tela seja movida e chama a função de movimento
        });

    </script>
    <script src="/codigo/assets/js/script.js"></script>
</head>

<body>
    <div id="menu-flutuante-outer-wrapper">
        <!--embrulho de fora do menu, serve para posicionamento na esquerda da página-->
        <div id="menu-flutuante-inner-wrapper">
            <!--embrulho de dentro do menu, serve para posicionamento no ponto médio da altura da página-->
            <ul id="menu-flutuante"> <!--menu flutuante-->
                <li class="menu-item"><img src="/codigo/assets/img/mais.png" alt="Adicionar Módulo"></li>
                <li class="menu-item"><img src="/codigo/assets/img/notas.png" alt="Post-its"></li>
                <li class="menu-item"><img src="/codigo/assets/img/do-utilizador.png" alt="Usuário"></li>
            </ul>
            <div id="menu-button"><img src="/codigo/assets/img/angulo-duplo-pequeno-esquerdo.png"
                    alt="Contrair/Expandir"></div> <!--botão contrair/expandir-->
        </div>
        <div id="menu-config-wrapper">
            <img id="menu-config" src="/codigo/assets/img/engrenagens.png" alt="Configurações">
        </div>
    </div>


    <!--SISTEMA DRAG AND DROP (main)-->

    <div id="principal"> <!--embrulho de fora do gridster-->
        <div class="gridster" id="interface-modular"> <!--gridster-->
            <ul>

                <!--POMODORO-->
                <li class="módulo" id="pomodoro" data-row="1" data-col="9" data-sizex="5" data-sizey="3">
                    <header>|||</header>
                    <div class="pomodoro-container">
                        pomodoro
                    </div>

                </li>
                
                <!--Informante Digital-->
                <li class="módulo" id="infoD" data-row="6" data-col="11" data-sizex="4" data-sizey="3">
                    <header>|||</header>
                    <div class="infoD-container">
                        <div class="inf-conjunto-container">

                            <div class="informante" id="sono">
                                <div class="informante-titulo">
                                    <h2>SONO</h2>
                                </div>
                            </div>
                            <div class="informante" id="foco">
                                <div class="informante-titulo">
                                    <h2>FOCO</h2>
                                </div>
                            </div>
                            <div class="informante" id="agua">
                                <div class="informante-titulo">
                                    <h2>AGUA</h2>
                                </div>
                            </div>
                            <div class="informante" id="vicios">
                                <div class="informante-titulo">
                                    <h2>VICIOS</h2>
                                </div>
                            </div>
                            <div class="informante" id="saude-mental">
                                <div class="informante-titulo">
                                    <h2>MENTAL</h2>
                                </div>
                            </div>
                            <div class="informante" id="exercicios-fisicos">
                                <div class="informante-titulo">
                                    <h2>GYM</h2>
                                </div>
                            </div>
                        </div>
                        <div class="infoD-tips-containder">
                            <div class="tip">
                                <div id="text">a</div>
                            </div>
                        </div>
                    </div>
                </li>

                <!--TASK LIST-->
                <li class="módulo" data-row="1" data-col="1" data-sizex="6" data-sizey="4">
                    <header>|||</header>
                    <div class="task-list-container">
                        task list
                    </div>
                </li>

                <!--GRAFICO-->
                <li class="módulo" data-row="5" data-col="1" data-sizex="5" data-sizey="4">
                    <header>|||</header>
                    <div class="grafico-container">
                        grafico
                    </div>
                </li>

                <!--POST-ITS-->
                <li class="módulo" data-row="6" data-col="7" data-sizex="1" data-sizey="1">
                    <header>|||</header>
                </li>
                <li class="módulo" data-row="8" data-col="9" data-sizex="1" data-sizey="1">
                    <header>|||</header>
                </li>
                <li class="módulo" data-row="5" data-col="9" data-sizex="1" data-sizey="1">
                    <header>|||</header>
                </li>

            </ul>
        </div>
    </div>
    <div id="config-page-wrapper">
        
    </div>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha2/dist/js/bootstrap.bundle.min.js"
        integrity="sha384-qKXV1j0HvMUeCBQ+QVp7JcfGl760yU08IQ+GpUo5hlbpg51QRiuqHAJz8+BrxE/N" crossorigin="anonymous">
        </script>
</body>

</html>